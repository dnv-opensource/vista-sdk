#[derive(Copy, Clone, Debug, Hash, Eq, PartialEq)]
pub enum VisVersion {
{% for version in vis_versions %}
    V{{ version.enum_version }},
{% endfor %}
}

impl VisVersion {
    pub const ALL: [Self; {{ vis_versions.size }}] = [
        {% for version in vis_versions %}
            VisVersion::V{{ version.enum_version }},
        {% endfor %}
    ];
}


impl std::fmt::Display for VisVersion {
    fn fmt(&self, f: &mut std::fmt::Formatter) -> std::fmt::Result {
        let value = match self {
        {% for version in vis_versions %}
            VisVersion::V{{ version.enum_version }} => "{{ version.display_version }}",
        {% endfor %}
        };
        write!(f, "{}", value)
    }
}

impl std::str::FromStr for VisVersion {
    type Err = String;

    fn from_str(input: &str) -> std::result::Result<VisVersion, Self::Err> {
        match input {
        {% for version in vis_versions %}
        "{{ version.display_version }}" => Ok(VisVersion::V{{ version.enum_version }}),
        {% endfor %}
            _ => Err(format!("{}", input)),
        }
    }
}
